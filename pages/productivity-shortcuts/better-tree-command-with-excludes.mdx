# Supercharge Your Tree Command: Easily Exclude Folders and Files

If you're a developer, you've probably used the `tree` command to visualize your project structure. But what if you want to exclude certain folders or files? Enter `tree_exclude`, a custom Zsh function that makes this task a breeze.

## The Function

First, let's add this function to your `.zshrc` file:

```zsh
tree_exclude() {
  local exclude_patterns=()
  local tree_args=()

  # Default exclusions
  exclude_patterns=(
    "node_modules"
    "migrations"
    ".next"
    "out"
  )

  # Parse arguments
  while [[ $# -gt 0 ]]; do
    case $1 in
      -e|--exclude)
        exclude_patterns+=("$2")
        shift 2
        ;;
      *)
        tree_args+=("$1")
        shift
        ;;
    esac
  done

  # Build the exclude pattern string
  local exclude_string=$(printf "|%s" "${exclude_patterns[@]}")
  exclude_string=${exclude_string:1}  # Remove leading '|'

  # Run tree command with exclusions
  tree -I "$exclude_string" "${tree_args[@]}"
}
```

## How to Use It

After adding the function to your `.zshrc` and reloading your shell, you can use `tree_exclude` in various ways:

1. Basic usage (with default exclusions):

```bash
tree_exclude
```

This will exclude `node_modules`, `migrations`, `.next`, and `out` directories.

2. Adding custom exclusions:

```bash
tree_exclude -e "build" -e "*.log"
```

This will exclude the default directories, plus the `build` directory and all `.log` files.

3. Using with other tree options:

```bash
tree_exclude -e "tests" -L 2
```

This excludes the `tests` directory (along with the defaults) and limits the tree depth to 2 levels.

## Why It's Useful

- **Cleaner Output**: Exclude large or irrelevant directories for a cleaner project overview.
- **Flexible**: Easily add or remove exclusions on the fly.
- **Time-Saving**: No need to remember long `tree` commands with multiple exclusions.

Next time you need to visualize your project structure, give `tree_exclude` a try. It's a small addition to your toolkit that can make a big difference in your workflow!
